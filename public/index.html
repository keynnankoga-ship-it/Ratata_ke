<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ratata Store</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* === GLOBAL === */
body{
  margin:0;
  background:#0a0a0a;
  color:white;
  font-family:Georgia,serif;
  overflow-x:hidden;
}
h1,h2,h3{margin:0 0 15px}
img{max-width:100%}
.btn{
  background:#ff7a2f;
  padding:12px 25px;
  border:none;
  color:white;
  font-weight:bold;
  cursor:pointer;
  border-radius:6px;
}

/* === NAVIGATION === */
nav{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:20px 50px;
  background:#111;
  position:sticky;
  top:0;
  z-index:1000;
}
nav h2{margin:0;color:#ff7a2f;}
nav ul{
  display:flex;
  list-style:none;
  margin:0;
  padding:0;
}
nav ul li{
  margin-left:25px;
}
nav ul li a{
  color:white;
  text-decoration:none;
  font-weight:bold;
  cursor:pointer;
}
nav ul li a:hover{
  color:#ff7a2f;
}

/* === HERO === */
.hero{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:80px;
  min-height:80vh;
}
.left{max-width:50%}
h1{font-size:60px}

/* === PRODUCTS === */
.products{
  padding:80px 8%;
  background:#111;
  text-align:center;
}
.product-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:30px;
  margin-top:40px;
}
.card{
  background:#1a1a1a;
  padding:20px;
  border-radius:12px;
}
.card img{
  border-radius:10px;
  margin-bottom:10px;
}
.price{
  color:#ff7a2f;
  font-weight:bold;
  margin:10px 0;
}

/* === CART MODAL === */
#cart-modal{
  position:fixed;
  top:0; left:0;
  width:100%; height:100%;
  background:rgba(0,0,0,0.9);
  display:none;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  padding:50px 20px;
  z-index:2000;
  overflow-y:auto;
}
#cart-modal h2{text-align:center;margin-bottom:20px;}
.cart-item{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin:10px 0;
  background:#1a1a1a;
  padding:10px;
  border-radius:6px;
}
.cart-item input{
  width:50px;
  margin-left:10px;
  padding:5px;
  border-radius:6px;
  border:none;
}
#cart-total{
  font-size:22px;
  color:#ff7a2f;
  margin-top:20px;
}
.close-cart{
  background:#ff7a2f;
  padding:10px 20px;
  border:none;
  color:white;
  font-weight:bold;
  cursor:pointer;
  border-radius:6px;
  margin-bottom:20px;
}

/* === PAYMENT MODAL === */
#payment-modal{
  position:fixed;
  top:0; left:0;
  width:100%; height:100%;
  background:rgba(0,0,0,0.95);
  display:none;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  padding:50px 20px;
  z-index:3000;
  overflow-y:auto;
}
.payment-card{
  max-width:400px;
  width:100%;
  background:#111;
  padding:40px;
  border-radius:12px;
  text-align:center;
}
.payment-card input{
  width:100%;
  padding:12px;
  margin:10px 0;
  border:none;
  border-radius:6px;
}
#mpesa-response, #payment-response{
  margin-top:10px;
  color:#ff7a2f;
}

/* === GALLERY === */
.gallery{
  padding:80px 8%;
  text-align:center;
}
.gallery-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:20px;
  margin-top:30px;
}
.gallery img, .gallery video{
  width:100%;
  border-radius:12px;
}

/* === CONTACT === */
.contact{
  padding:80px 20px;
  background:#111;
  text-align:center;
}
.contact a{color:#ff7a2f;text-decoration:none;margin:0 10px;font-weight:bold;}

/* === FOOTER === */
footer{
  background:#111;
  color:white;
  text-align:center;
  padding:20px;
  font-size:14px;
  margin-top:40px;
}

@media(max-width:900px){
  .hero{flex-direction:column;text-align:center}
  .left{max-width:100%}
  nav ul{flex-direction:column}
  nav ul li{margin:10px 0}
}
</style>

<script src="https://js.stripe.com/v3/"></script>
</head>
<body>

<nav>
  <div class="nav-left">
    <img src="images/icon5.jpg" alt="Ratata Logo" class="logo" height="50">
    <h2>Ratata</h2>
  </div>

  <ul>
    <li><a onclick="scrollToHome()">Home</a></li>
    <li><a onclick="scrollToAbout()">About Us</a><li>
    <li><a onclick="scrollToProducts()">Menu</a></li>
    <li><a onclick="scrollToContact()">Contact</a></li>
    <li><a onclick="openCart()">Cart</a></li>
  </ul>
</nav>
<!-- HERO -->
<section id="home" class="hero">
  <div class="left">
    <h1>Experience the<br>Power of Ratata</h1>
    <p>RATATA weaves blends and flavours into one. Pineapple Wine, tepache, toivo-different origins, same wild core. From tropical groves to dusty streets to Kenyan clay, we craft a single drink: sweet, sharp, untamed. It's Ratata's spirit!<br>
One Drink. Three Souls</p>
    <button class="btn" onclick="scrollToProducts()">Shop Now</button>
  </div>
  <div>
    <img src="images/icon1.jpg">
  </div>
</section>

<!-- ABOUT US -->
<section id="about" class="section-dark">
  <h2>About Ratata</h2>
  <p>
    Ratata is your ultimate choice for refreshing drinks, crafted to bring together quality, flavor, and tradition. 
    Our mission is to deliver excellence in every sip, whether it‚Äôs our original Ratata or our unique Pineapple-Ginger blend.
  </p>
  <p>
   At RATATA, we don‚Äôt just make a flavoured and fermented drink, we celebrate it. Born from the wild hills and sun-soaked landscapes where pineapple meets tradition, our pineapple-wine is more than a drink; it‚Äôs a hug in a bottle‚Ä¶ with a kick. <br>We‚Äôre a bunch of pineapple enthusiasts, flavor adventurers, and occasional punsters who believe that life is too short for boring spirits. <br> Our drink is handcrafted, lovingly fermented, and bottled with a wink‚Äîbecause who says tradition can‚Äôt have a sense of humor? <br> 
Whether you‚Äôre sipping it neat, mixing it into cocktails, or just staring at it longingly in your fridge, Ratata promises a little sweetness, a little buzz, and a lot of stories. <br>
So raise a glass, share a laugh, and remember: good things come to those who ferment. üçØ‚ú®.
  </p>
</section>

<!-- PRODUCTS -->
<section id="products" class="products">
  <h2>Our Menu <br> Fermented by tradition. Finished with confidence.</h2> 
  <div class="product-grid">
    <div class="card">
      <img src="images/icon2.jpg">
      <h3>Ratata Original 1Litre</h3>
      <div class="price">KSh 700</div>
      <button class="btn" onclick="addToCart('Ratata Original 1Litre',700)">Add to Cart</button>
    </div>
    <div class="card">
      <img src="images/icon3.jpg">
      <h3>Ratata Original 2Litres</h3>
      <div class="price">KSh 1350</div>
      <button class="btn" onclick="addToCart('Ratata Original 2Litres',1350)">Add to Cart</button>
    </div>
    <div class="card">
      <img src="images/dessert.jpg">
      <h3>Ratata Original 5Litres</h3>
      <div class="price">KSh 3000</div>
      <button class="btn" onclick="addToCart('Ratata Original 5Litres',3000)">Add to Cart</button>
    </div>
  <div class="card">
      <img src="images/icon4.jpg">
      <h3>Ratata Pineapple-Ginger 1Ltr</h3>
      <div class="price">KSh 800</div>
      <button class="btn" onclick="addToCart('Ratata Pineapple-Ginger 1Ltr',800)">Add to Cart</button>
    </div>
<div class="card">
      <img src="images/icon5.jpg">
      <h3>Ratata Pineapple-Ginger 2Ltrs</h3>
      <div class="price">KSh 1450</div>
      <button class="btn" onclick="addToCart('Ratata Pineapple-Ginger 2Ltrs',1450)">Add to Cart</button>
    </div>
<div class="card">
      <img src="images/icon6.jpg">
      <h3>Ratata Pineapple-Ginger 5Ltrs</h3>
      <div class="price">KSh 3200</div>
      <button class="btn" onclick="addToCart('Ratata Pineapple-Ginger 5Ltrs',3200)">Add to Cart</button>
    </div>
<div class="card">
      <img src="images/icon7.jpg">
      <h3>Ratata T-Shirt(White)</h3>
      <div class="price">KSh 1000</div>
      <button class="btn" onclick="addToCart('Ratata T-Shirt(White)',1000)">Add to Cart</button>
    </div>
<div class="card">
      <img src="images/icon8.jpg">
      <h3>Ratata T-Shirt(Black)</h3>
      <div class="price">KSh 1000</div>
      <button class="btn" onclick="addToCart('Ratata T-Shirt(Black)',1000)">Add to Cart</button>
    </div>
<div class="card">
      <img src="images/icon9.jpg">
      <h3>Ratata T-Shirt(Pink)</h3>
      <div class="price">KSh 1000</div>
      <button class="btn" onclick="addToCart('Ratata T-Shirt(Pink)',1000)">Add to Cart</button>
    </div>

  </div>
</section>

<!-- CART MODAL -->
<div id="cart-modal">
  <button class="close-cart btn" onclick="closeCart()">Close Cart</button>
  <h2>Your Cart</h2>
  <div id="cart-items"></div>
  <div class="total">Total: KSh <span id="cart-total">0</span></div>
  <button class="btn" onclick="openPayment()">Checkout</button>
</div>

<!-- PAYMENT MODAL -->
<div id="payment-modal">
  <div class="payment-card">
    <h2>Payment</h2>
    <p>Total: KSh <span id="payment-total">0</span></p>
    
    <!-- M-Pesa -->
    <input type="text" id="mpesa-phone" placeholder="2547XXXXXXXX">
    <button class="btn" onclick="payMpesa()">Pay with M-Pesa</button>
    
    <hr style="margin:20px 0; border-color:#444;">
    
    <!-- Card Payment -->
    <div id="card-element" style="margin-bottom:20px;"></div>
    <button class="btn" id="card-button">Pay with Card (Visa)</button>
    
    <p id="payment-response"></p>
    <button class="btn" onclick="closePayment()">Close</button>
  </div>
</div>

<!-- GALLERY -->
<section class="gallery">
  <h2>Gallery</h2>
  <div class="gallery-grid">
    <img src="images/icon9.jpg">
    <img src="images/icon10.jpg">
    <img src="images/icon11.jpg">
    <img src="images/icon12.jpg">
    <img src="images/icon13.jpg">
    <img src="images/icon14.jpg">
  </div>
</section>

<!-- CONTACT SECTION -->
<section id="contact" class="contact-section" style="padding: 80px 20px; background:#111; text-align:center; color:white;">
  <h2 style="font-family: Georgia, serif; font-weight: bold; margin-bottom: 10px;">Talk To Ratata!</h2>
  <p style="margin-bottom: 40px; font-style: italic;"></p>

  <form id="contactForm" action="https://formspree.io/f/mzdardwe" method="POST" style="max-width: 500px; margin: 0 auto; text-align: left;">
    
    <label for="name" style="display:block; margin-bottom: 8px; font-weight: bold;">Full Name *</label>
    <input type="text" id="name" name="name" required
      style="width: 100%; padding: 12px; border-radius: 6px; border: 1px solid #ccc; background: #faf9f7; margin-bottom: 20px; font-family: Georgia, serif; font-size: 16px;"/>

    <label for="email" style="display:block; margin-bottom: 8px; font-weight: bold;">Email *</label>
    <input type="email" id="email" name="email" required
      style="width: 100%; padding: 12px; border-radius: 6px; border: 1px solid #ccc; background: #faf9f7; margin-bottom: 20px; font-family: Georgia, serif; font-size: 16px;"/>

    <label for="message" style="display:block; margin-bottom: 8px; font-weight: bold;">Message *</label>
    <textarea id="message" name="message" rows="6" required
      style="width: 100%; padding: 12px; border-radius: 6px; border: 1px solid #ccc; background: #faf9f7; margin-bottom: 30px; font-family: Georgia, serif; font-size: 16px; resize: vertical;"></textarea>

    <button type="submit" style="
      background: linear-gradient(90deg, #ff7a2f, #ff7a2f);
      color: white;
      font-weight: bold;
      border: none;
      padding: 14px;
      border-radius: 6px;
      cursor: pointer;
      width: 100%;
      font-size: 18px;
      transition: background 0.3s ease;
    " onmouseover="this.style.background='#e06722'" onmouseout="this.style.background='#ff7a2f'">
      Send Message
    </button>
  </form>

  <!-- Social Links -->
  <div class="social-section" style="margin-top: 40px; text-align: center; color: white; font-family: Georgia, serif;">
    <h3 style="font-weight: bold; margin-bottom: 20px;">Or Find Us Here</h3>

    <div class="social-links" style="display: inline-flex; gap: 20px; flex-wrap: wrap; justify-content: center;">
<a href="https://wa.me/254799361767" target="_blank">
      <img src="images/whatsapp-icon.png" alt="WhatsApp" height="30">
    </a>
    <a href="tel:+254799361767">
      <img src="images/phone-icon.png" alt="Phone" height="30">
    </a>
      <a <div class="social-links">
  
  <!-- WhatsApp -->
  <a href="https://wa.me/254799361767" target="_blank">
    <img src="images/whatsapp-icon.png" alt="WhatsApp">
  </a>

  <!-- Phone -->
  <a href="tel:+254799361767">
    <img src="images/phone-icon.png" alt="Phone">
  </a>

  <!-- Instagram -->
  <a href="https://instagram.com/ratata.ke" target="_blank">
    <img src="images/instagram-icon.png" alt="Instagram">
  </a>

  <!-- Twitter / X -->
  <a href="https://twitter.com/ratata_ke" target="_blank">
    <img src="images/twitter-icon.png" alt="Twitter">
  </a>

  <!-- Email -->
  <a href="mailto:keynnankoga@gmail.com">
    <img src="images/email-icon.png" alt="Email">
  </a>
</div>
</div>

  </div>
</section>  

<!-- FOOTER -->
<footer>
  &copy; 2026 ¬©KoyoXRatata Store|All rights reserved.
</footer>

<script>
// NAVIGATION
function scrollToHome(){document.getElementById("home").scrollIntoView({behavior:"smooth"})}
function scrollToAboutUs(){document.getElementById("about").scrollIntoView({behavior: "smooth"})}
function scrollToProducts(){document.getElementById("products").scrollIntoView({behavior:"smooth"})}
function scrollToContact(){document.getElementById("contact").scrollIntoView({behavior:"smooth"})}

// CART
let cart=[];
let total=0;

function addToCart(name,price){
  let existing=cart.find(i=>i.name===name);
  if(existing){ existing.qty++; existing.priceTotal=existing.qty*price; }
  else{ cart.push({name,price,qty:1,priceTotal:price}); }
  updateCart();
  openCart();
}
function updateCart(){
  const cartDiv=document.getElementById("cart-items");
  cartDiv.innerHTML="";
  total=0;
  cart.forEach((item,index)=>{
    total+=item.priceTotal;
    const div=document.createElement("div");
    div.className="cart-item";
    div.innerHTML=`<span>${item.name}</span>
      <span>KSh ${item.price} x <input type="number" value="${item.qty}" min="1" onchange="changeQty(${index},this.value)"> = KSh ${item.priceTotal}</span>`;
    cartDiv.appendChild(div);
  });
  document.getElementById("cart-total").innerText=total;
  document.getElementById("payment-total").innerText=total;
}
function changeQty(index,val){
  val=parseInt(val);
  if(val<1) val=1;
  cart[index].qty=val;
  cart[index].priceTotal=cart[index].price*val;
  updateCart();
}
function openCart(){ document.getElementById("cart-modal").style.display="flex"; }
function closeCart(){ document.getElementById("cart-modal").style.display="none"; }
function openPayment(){ document.getElementById("payment-modal").style.display="flex"; closeCart(); }
function closePayment(){ document.getElementById("payment-modal").style.display="none"; }

// M-PESA PAYMENT
async function payMpesa(){
  const phone=document.getElementById("mpesa-phone").value.trim();
  const response=document.getElementById("payment-response");
  if(!phone||total<=0){ response.innerText="Cart empty or phone missing"; return; }
  response.innerText="Processing M-Pesa payment...";
  try{
    const res=await fetch("/stkpush",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone,amount:total})});
    const data=await res.json();
    response.innerText="M-Pesa payment initiated ‚úî";
    cart=[]; total=0;
    closePayment();
  }catch(err){ response.innerText="Network error"; }
}

// STRIPE CARD PAYMENT
const stripe = Stripe("pk_test_YOUR_STRIPE_PUBLISHABLE_KEY"); // Replace with your key
const elements = stripe.elements();
const cardElement = elements.create("card");
cardElement.mount("#card-element");

document.getElementById("card-button").addEventListener("click", async ()=>{
  if(total<=0){ document.getElementById("payment-response").innerText="Cart is empty"; return; }
  document.getElementById("payment-response").innerText="Processing card payment...";
  try{
    const res=await fetch("/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:total})});
    const data=await res.json();
    const {error, paymentIntent} = await stripe.confirmCardPayment(data.clientSecret,{payment_method:{card:cardElement}});
    if(error) document.getElementById("payment-response").innerText="Card error: "+error.message;
    else if(paymentIntent.status==="succeeded"){ document.getElementById("payment-response").innerText="Card payment successful ‚úî"; cart=[]; total=0; closePayment(); }
  }catch(err){ document.getElementById("payment-response").innerText="Network error"; }
});
</script>
</body>
</html>